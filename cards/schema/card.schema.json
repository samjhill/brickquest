{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BrickQuestCard",
  "type": "object",
  "required": ["id", "name", "type", "cost", "rarity", "faction", "text", "rules"],
  "properties": {
    "id": { 
      "type": "string", 
      "pattern": "BQ-[A-Z]{3}-\\d{4}" 
    },
    "name": { 
      "type": "string", 
      "minLength": 3 
    },
    "type": {
      "type": "string",
      "enum": [
        "Action", "Structure", "Program", "Event", "Loot",
        "Reaction", "Trap", "Aura", "Quest", "Weather", 
        "Consumable", "Blueprint", "BossTechnique"
      ]
    },
    "subtype": { 
      "type": "array", 
      "items": { "type": "string" } 
    },
    "faction": { 
      "type": "string", 
      "enum": ["Neutral", "Steampunk", "Cyber", "Arcane"] 
    },
    "classLock": { 
      "type": "array", 
      "items": { "type": "string" } 
    }, 
    "rarity": { 
      "type": "string", 
      "enum": ["Common", "Uncommon", "Rare", "Mythic"] 
    },
    "cost": {
      "type": "object",
      "required": ["energy"],
      "properties": {
        "energy": { 
          "type": "integer", 
          "minimum": 0, 
          "maximum": 10 
        },
        "bricks": { 
          "type": "integer", 
          "minimum": 0, 
          "maximum": 20 
        },
        "exhaust": { "type": "boolean" },
        "sacrifice": { "type": "string" } 
      }
    },
    "stats": { "type": "object" }, 
    "buildReq": { 
      "type": "object",
      "properties": {
        "bricks": {
          "type": "object",
          "properties": {
            "regular": { "type": "integer", "minimum": 0 },
            "plates": { "type": "integer", "minimum": 0 },
            "special": { "type": "integer", "minimum": 0 },
            "total": { "type": "integer", "minimum": 0 }
          }
        },
        "lego": { 
          "type": "array", 
          "items": { "type": "string" } 
        },
        "stl": { 
          "type": "array", 
          "items": { "type": "string" } 
        },
        "footprint": { "type": "string" } 
      }
    },
    "text": { "type": "string" },          
    "rules": { "type": "object" },         
    "icons": { 
      "type": "array", 
      "items": { "type": "string" } 
    },
    "flavor": { "type": "string" },
    "limits": { 
      "type": "object", 
      "properties": { 
        "perDeck": { "type": "integer" }, 
        "perField": { "type": "integer" } 
      } 
    },
    "designerNotes": { "type": "string" },
    "v": { "type": "integer", "default": 2 }
  }
}
