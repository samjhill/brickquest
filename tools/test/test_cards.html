<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrickQuest Card Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .card { 
            border: 2px solid #333; 
            padding: 10px; 
            margin: 10px; 
            display: inline-block; 
            width: 200px; 
            vertical-align: top;
        }
        .card-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 10px;
        }
        .card-name { font-weight: bold; font-size: 16px; }
        .card-cost { 
            background: #333; 
            color: white; 
            border-radius: 50%; 
            width: 24px; 
            height: 24px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 12px;
        }
        .card-text { margin: 10px 0; font-size: 14px; }
        .card-footer { 
            display: flex; 
            justify-content: space-between; 
            font-size: 12px; 
            color: #666; 
            margin-top: 10px;
        }
        .icons { margin: 5px 0; }
        .icon { margin-right: 5px; }
    </style>
</head>
<body>
    <h1>BrickQuest Card Test</h1>
    <div id="cards"></div>
    
    <script>
        // Test data
        const testCards = [
            {
                "id": "BQ-REA-0001",
                "name": "Parry Matrix",
                "type": "Reaction",
                "faction": "Neutral",
                "rarity": "Uncommon",
                "cost": { "energy": 1 },
                "text": "When your automaton would take damage, prevent 2. Gain 1 Energy if the attacker is adjacent.",
                "rules": { "trigger": "onIncomingDamage", "prevent": 2, "bonusEnergyIf": { "rangeMax": 1, "amount": 1 } },
                "icons": ["shield", "bolt"],
                "flavor": "Predict, deflect, perfect.",
                "v": 2
            },
            {
                "id": "BQ-STR-0001",
                "name": "Steam Generator",
                "type": "Structure",
                "faction": "Steampunk",
                "rarity": "Common",
                "cost": { "energy": 2 },
                "buildReq": { "lego": ["2x4_brick:2", "pipe:1"], "stl": ["steam_gen"], "footprint": "1-hex" },
                "text": "At round start, gain 1 Energy. Adjacent allies gain +1 movement.",
                "rules": { "roundStart": {"energy": 1}, "aura": {"movement": 1, "range": 1} },
                "icons": ["steam", "energy"],
                "flavor": "The heart of the machine.",
                "v": 2
            }
        ];
        
        function getIconEmoji(icon) {
            const iconMap = {
                'shield': 'ðŸ›¡ï¸', 'bolt': 'âš¡', 'steam': 'ðŸ’¨', 'energy': 'âš¡',
                'trap': 'ðŸ•³ï¸', 'immobilize': 'ðŸ§Š', 'aura': 'ðŸŒ€', 'heat': 'ðŸ”¥',
                'quest': 'ðŸ—ºï¸', 'gate': 'ðŸšª', 'storm': 'â›ˆï¸', 'sensor': 'ðŸ“¡',
                'heal': 'â¤ï¸', 'cleanse': 'ðŸ’§', 'blueprint': 'ðŸ“', 'turret': 'ðŸ›ž',
                'boss': 'ðŸ‘‘', 'stun': 'ðŸ’¥', 'move': 'ðŸ‘Ÿ', 'damage': 'âš”ï¸'
            };
            return iconMap[icon] || 'â“';
        }
        
        function renderCard(card) {
            const energyCost = card.cost && card.cost.energy !== undefined ? card.cost.energy : 0;
            const iconsHtml = card.icons ? card.icons.map(icon => `<span class="icon">${getIconEmoji(icon)}</span>`).join('') : '';
            
            return `
                <div class="card">
                    <div class="card-header">
                        <div class="card-name">${card.name}</div>
                        <div class="card-cost">${energyCost}</div>
                    </div>
                    <div class="card-text">${card.text}</div>
                    <div class="icons">${iconsHtml}</div>
                    <div class="card-footer">
                        <div>${card.type}</div>
                        <div>${card.rarity}</div>
                    </div>
                </div>
            `;
        }
        
        document.getElementById('cards').innerHTML = testCards.map(renderCard).join('');
    </script>
</body>
</html>
